<!-- TOC -->

- [Javaçš„Terminalæ‰§è¡Œ](#javaçš„terminalæ‰§è¡Œ)
- [æ•°æ®ç±»å‹](#æ•°æ®ç±»å‹)
    - [åŸºæœ¬æ•°æ®ç±»å‹](#åŸºæœ¬æ•°æ®ç±»å‹)
    - [æ•°æ®è¾“å…¥](#æ•°æ®è¾“å…¥)
- [æ‰§è¡Œç»“æ„](#æ‰§è¡Œç»“æ„)
    - [è·³è½¬è¯­å¥](#è·³è½¬è¯­å¥)
- [Mathç±»](#mathç±»)
    - [Mathç±»ä¸æ•°å­¦å‡½æ•°](#mathç±»ä¸æ•°å­¦å‡½æ•°)
- [å­—ç¬¦ä¸²](#å­—ç¬¦ä¸²)
    - [æ¯”è¾ƒ](#æ¯”è¾ƒ)
    - [å¸¸ç”¨æ–¹æ³•](#å¸¸ç”¨æ–¹æ³•)
    - [StringBuffer](#stringbuffer)
    - [Random ç±»](#random-ç±»)
- [æ—¶é—´å’Œæ—¥å†](#æ—¶é—´å’Œæ—¥å†)
    - [Dateç±»](#dateç±»)
    - [Calendarç±»](#calendarç±»)
- [ç±»](#ç±»)
    - [åŸºæœ¬è§„åˆ™](#åŸºæœ¬è§„åˆ™)
    - [æ„é€ å‡½æ•°](#æ„é€ å‡½æ•°)
    - [ç±»å˜é‡ä¸ç±»æ–¹æ³•](#ç±»å˜é‡ä¸ç±»æ–¹æ³•)
    - [ç±»çš„ç»§æ‰¿](#ç±»çš„ç»§æ‰¿)
    - [$\color{#189}{æ–¹æ³•è¦†ç›–}$](#\color189æ–¹æ³•è¦†ç›–)
    - [$\color{#189}{æ–¹æ³•é‡è½½}$](#\color189æ–¹æ³•é‡è½½)
    - [å¤šæ€æ€§](#å¤šæ€æ€§)
        - [$\color{red}{å¤šæ€çš„å®ç°æ–¹å¼ï¼š}$](#\colorredå¤šæ€çš„å®ç°æ–¹å¼)
    - [åˆ¤æ–­æ•°æ®ç±»å‹æ–¹æ³•ï¼ˆ[obj] instanceof [class]ï¼‰](#åˆ¤æ–­æ•°æ®ç±»å‹æ–¹æ³•obj-instanceof-class)
    - [ç±»çš„å°è£…æ€§](#ç±»çš„å°è£…æ€§)
    - [æŠ½è±¡ç±»](#æŠ½è±¡ç±»)
    - [finalç±»](#finalç±»)
    - [æ¥å£](#æ¥å£)
    - [ç±»å’Œæ¥å£](#ç±»å’Œæ¥å£)
    - [å†…éƒ¨ç±»](#å†…éƒ¨ç±»)
    - [åŒ¿åå†…éƒ¨ç±»](#åŒ¿åå†…éƒ¨ç±»)
    - [Objectç±»](#objectç±»)
- [å›¾å½¢åŒ–ç•Œé¢](#å›¾å½¢åŒ–ç•Œé¢)
    - [$\color{#099}{ç»„ä»¶å’Œå®¹å™¨}$](#\color099ç»„ä»¶å’Œå®¹å™¨)
    - [çª—ä½“ç¨‹åºçš„åˆ›å»º](#çª—ä½“ç¨‹åºçš„åˆ›å»º)
    - [$\color{#188}{Buttonåˆ›å»º}$](#\color188buttonåˆ›å»º)
    - [$\color{#189}{ç™»å½•é¡µé¢}$](#\color189ç™»å½•é¡µé¢)
    - [$\color{#189}{GUIäº‹ä»¶}$](#\color189guiäº‹ä»¶)
        - [å§”æ‰˜æ¨¡å‹](#å§”æ‰˜æ¨¡å‹)
    - [äº‹ä»¶æºå¯¹è±¡](#äº‹ä»¶æºå¯¹è±¡)
    - [äº‹ä»¶é€‚é…å™¨](#äº‹ä»¶é€‚é…å™¨)
    - [ä½¿ç”¨å¤šä¸ªçª—ä½“](#ä½¿ç”¨å¤šä¸ªçª—ä½“)
    - [ç»„ä»¶å¸ƒå±€ï¼ˆå¸ƒå±€ç®¡ç†å™¨ç®¡ç†ï¼‰](#ç»„ä»¶å¸ƒå±€å¸ƒå±€ç®¡ç†å™¨ç®¡ç†)
        - [FlowLayout](#flowlayout)
        - [BorderLayout](#borderlayout)
        - [GridLayout](#gridlayout)
        - [CardLagout](#cardlagout)
        - [æ— å¸ƒå±€ç®¡ç†](#æ— å¸ƒå±€ç®¡ç†)
        - [å¤æ‚çš„å¸ƒå±€](#å¤æ‚çš„å¸ƒå±€)
    - [$\color {#199}{æ§ä»¶}$](#\color-199æ§ä»¶)
    - [ä¾‹å­](#ä¾‹å­)
- [å¼‚å¸¸åŠå…¶åˆ†ç±»](#å¼‚å¸¸åŠå…¶åˆ†ç±»)
    - [é”™è¯¯å’Œå¼‚å¸¸](#é”™è¯¯å’Œå¼‚å¸¸)
    - [è‡ªå®šä¹‰å¼‚å¸¸](#è‡ªå®šä¹‰å¼‚å¸¸)
- [å¤šè¿›ç¨‹](#å¤šè¿›ç¨‹)
    - [çº¿ç¨‹çš„è°ƒåº¦å’Œæ§åˆ¶](#çº¿ç¨‹çš„è°ƒåº¦å’Œæ§åˆ¶)
    - [çº¿ç¨‹å˜é‡](#çº¿ç¨‹å˜é‡)
    - [çº¿ç¨‹åŒæ­¥](#çº¿ç¨‹åŒæ­¥)
        - [Synchronized](#synchronized)

<!-- /TOC -->
---

## Javaçš„Terminalæ‰§è¡Œ

1. åˆ›å»º `.java`æ–‡ä»¶
   1. å‘½ä»¤ï¼švim filename.java
   2. æ³¨æ„ï¼šæ–‡ä»¶åä¸ç±»åä¸€è‡´

2. å°†æºæ–‡ä»¶ç¼–è¯‘æˆå­—è§£ç æ–‡ä»¶
   1. å‘½ä»¤ï¼š java filename.java
   2. ç»“æœï¼šç”Ÿæˆ`.class` æ–‡ä»¶

3. æ‰§è¡Œè¿‡ç¨‹  
   1. java filename
   2. æ³¨æ„ï¼š`æ²¡æœ‰åç¼€`

    ![Java1_1](https://gitee.com/KawYang/Notes/raw/master/Image/Java/Java1_1.png)

## æ•°æ®ç±»å‹

### åŸºæœ¬æ•°æ®ç±»å‹

```java
public class Main{
    public static void main(String []args){
        int x,y,sum;
        x = 3;
        y = 5;
        sum = x + y;
        System.out.println(sum);
    }
}
```

### æ•°æ®è¾“å…¥

```java
    Scanner reader = new Scanner(System.in);
    //reader.next()  è¯»å–ä¸€ä¸ªå•è¯ ï¼ŒcharAt æ˜¯ç¬¬å‡ ä¸ªå­—ç¬¦ï¼Œå­—ä»0 å¼€å§‹ç¼–å·
    char x = reader.next().charAt(0);
    int a = reader.nextInt();
```

## æ‰§è¡Œç»“æ„

### è·³è½¬è¯­å¥

- continue: $\color{red}{ä¸ä½¿ç”¨â€œè¿”å›å€¼â€æ—¶}$ è¡¨ç¤ºè·³å‡ºè¯¥æ¬¡å¾ªç¯ï¼Œå³ä¹‹åçš„ä»£ç ä¸åœ¨æ‰§è¡Œã€‚  
ä½†æ˜¯ï¼Œè¯¥è¯­å¥å¯ä»¥é€šè¿‡ æŒ‡å®šè·³è½¬ä½ç½®ï¼Œæ”¹å˜è·³è½¬çš„æ–¹å‘

```java
     /**
     * è·³è½¬æŒ‡ä»¤
     */
    public static void GoTo(){
        outer:for (int j = 0; j < 10 ; j++) {
            //ä¸ç”¨å‚æ•°æ—¶continue è¿”å›çš„ä½ç½®  
            for (int i = 0; i<10;i++){
                    if (i>5) {
                    System.out.println(j+" "+ i);
                    continue outer;
                }
            }
        }
    }
    public static void GoTo(){
        for (int j = 0; j < 10 ; j++) {
            for (int i = 0; i<10;i++){
                if (i>5) {
                    System.out.println(j+" "+ i);
                    break;
                }
            }
        }
    }
```

- ä»¥ä¸Šä»£ç é€šè¿‡ $\color{red}{outer:}$ æŒ‡å®šäº†continueçš„è·³è½¬ä½ç½®ï¼Œæ‰€ä»¥åœ¨æ­¤å¤„ç›¸å½“äº$\color{red}{break}$
  - é€šè¿‡è¯¥æ–¹æ³•å¯ä»¥è·³å‡ºå¤šé‡å¾ªç¯ã€‚ $\color{red}{ä½†åŒºåˆ«äº GOTOè¯­å¥}$

```java
    /**
     * è·³è½¬æŒ‡ä»¤
     */
    public static void GoTo(){
        test:for (int j = 0; j < 10 ; j++) {
            for (int i = 0; i<10;i++){
                for(int px = 1;px <10;px++) {
                    if (i > 5) {
                        System.out.println(j + " " + i);
                        continue test;
                    }
                }
            }
        }

    }
```

## Mathç±»

### Mathç±»ä¸æ•°å­¦å‡½æ•°

![Math_1](https://gitee.com/KawYang/Notes/raw/master/Image/Java/Math_1.png)
![Math_2](https://gitee.com/KawYang/Notes/raw/master/Image/Java/Math_2.png)
![Math_3](https://gitee.com/KawYang/Notes/raw/master/Image/Java/Math_3.png)

## å­—ç¬¦ä¸²

String ä¸å¯å˜  
å£°æ˜ï¼šç›´æ¥èµ‹å€¼æˆ–è€…newä¸€ä¸ª

```java
String s1 = "abc";
String s2 = "abc";
String s3 = new String ("abc");
String s4 = new String ("abc");
```

åŒºåˆ«ï¼š

- æ‰§è¡Œå®Œ s1 ä¼šåœ¨å­—ç¬¦æ±  åˆ›å»ºä¸€ä¸ªâ€œabcâ€å­—ç¬¦ä¸²
- æ‰§è¡Œs2 ä¼šåœ¨å­—ç¬¦æ± ä¸­æŸ¥æ‰¾æ˜¯å¦æœ‰ä¸€æ ·çš„å­—ç¬¦ä¸²ã€‚æœ‰å°†é¦–åœ°å€èµ‹ç»™s2

- s3 å’Œ s4 newäº†ä¸¤ä¸ªä¸åŒçš„å­˜å‚¨ç©ºé—´ï¼Œæ‰€ä»¥ä¸åœ¨ä¸€ä¸ªåŒºåŸŸã€‚
  
### æ¯”è¾ƒ

- == ï¼šæ¯”åœ°å€ä¸å¿…å†…å®¹
- equals() :æ¯”è¾ƒå†…å®¹
- equalsIgnoreCase() :å¿½ç•¥å¤§å°å†™æ¯”è¾ƒ
  - //å¦‚æœå…¶ä»–è¯­è¨€ä¸æä¾›å¯ä»¥å°†å­—ç¬¦ä¸²éƒ½è½¬æ¢æˆå°å†™åæ¯”è¾ƒ
- compareTo() : æ¯”è¾ƒå¤§å°ï¼ˆ0ï¼Œ+ï¼Œâ€”ï¼‰
- compareToIgnoreCase(): å¿½ç•¥å¤§å°å†™

```java
    public static void main(String[] args) {
        String s1 = "abc";
        String s2 = "abc";
        String s3 = "ABC";
        String s4 = new String("abc");
        System.out.println("s1.compareTo(s2):"+s1.compareTo(s2));
        System.out.println("s1.compareToIgnoreCase(s3):"+s1.compareToIgnoreCase(s3));
        //æ¯”è¾ƒçš„æ˜¯åœ°å€å•Š
        System.out.println("s1 == s2:"+ (s1 == s2));
        //æ¯”è¾ƒçš„æ˜¯å†…å®¹
        System.out.println("s1.equals(s2):"+ s1.equals(s2));
        //å¿½ç•¥å¤§å°å†™æ¯”è¾ƒ
        System.out.println("s1.equalsIgnoreCase(s3):"+s1.equalsIgnoreCase(s3));
        System.out.println("s1 == s4:"+(s1 == s4));
        System.out.println("s1.equals(s4):"+s1.equals(s4));
    }
```

```vim
String s1 = "abc";
String s2 = "abc"
String s3 = "ABC";
String s4 = new String("abc");
------------------------------
s1.compareTo(s2):0
s1.compareToIgnoreCase(s3):0
s1 == s2:true
s1.equals(s2):true
s1.equalsIgnoreCase(s3):true
s1 == s4:false
s1.equals(s4):true
```

### å¸¸ç”¨æ–¹æ³•

- é•¿åº¦ ï¼š length()  
- è¿æ¥ ï¼š+ or concat()  
- åˆ¤æ–­å¼€å¤´ç»“å°¾ ï¼š
  - startsWith()  
  - endsWith()
- å–å­ä¸²ï¼š
  - (ä»ç¬¬å‡ ä¸ªå­—ç¬¦å¼€å§‹æˆªå–,ç»“æŸ)
  - å·¦é—­å³å¼€
  - substring(int,int)

![String_1](https://gitee.com/KawYang/Notes/raw/master/Image/Java/String_1.png)

![String_2](https://gitee.com/KawYang/Notes/raw/master/Image/Java/String_2.png)

### StringBuffer

å­—ç¬¦ä¸²å¯ä»¥ä¿®æ”¹

```java
    public static void main(String[] args) {
        StringBuffer s1 = new StringBuffer();
        s1.append("Hello");
        s1.append("World!");
        //HelloWorld!
        s1.insert(5," ");
        //Hello World!
        s1.replace(11,12,"?");
        //Hello World?
        s1.delete(0,6);
        // World?
    }
```

### Random ç±»

- Random random = new Random(int a);  
//a æ˜¯ç§å­
- random.nextInt(int b)  
//b æ˜¯ç”Ÿæˆçš„èŒƒå›´ï¼ˆä»0å¼€å§‹åˆ°bï¼‰$\color{red}{ã€Œå·¦é—­å³å¼€ã€}$

```java
    public static void main(String[] args) {
        try{

            Random random1 = new Random         (1);
            Random random2 = new Random(1);
            for (int i = 0; i < 10; i++) {
                System.out.print(random1.nextInt(10)+"\t");
            }
            System.out.println();
            Thread.sleep(1000);
            for (int i = 0; i < 10; i++) {
                System.out.print(random2.nextInt(10)+"\t");
            }
            System.out.println();

        }catch (Exception e){
            System.out.println(e);
            e.printStackTrace();
        }
    }
```

## æ—¶é—´å’Œæ—¥å†

### Dateç±»

yy :å¹´  MM :æœˆ  dd :æ—¥  
E : æ˜ŸæœŸ  Gï¼šå…¬å…ƒ  
HH:æ—¶  mm:åˆ†  ss:ç§’

```java
    public static void DateTest(){

        Date date = new Date();
        System.out.println(date);
        String patten = "yy-MM-dd";
        SimpleDateFormat sdf = new SimpleDateFormat(patten);
        String timePattern = sdf.format(date);
        System.out.println(timePattern);
        patten = "yyyyå¹´MMæœˆddæ—¥,E HHæ—¶mmåˆ†ssç§’";
        sdf = new SimpleDateFormat(patten);
        timePattern = sdf.format(date);
        System.out.println(timePattern);
    }
```

### Calendarç±»

$\color{red}{(calendar.get(Calendar.DAY\_OF\_WEEK)+6)\%7 }$

```java

    public static void CalendarTest(){

        Calendar calendar = Calendar.getInstance();
        /**
         *  æ—¥æœŸ
         */
        //æˆ–è€…calender.get(1);
        int year = calendar.get(Calendar.YEAR);
        //ä»0å¼€å§‹
        int month = calendar.get(Calendar.MONTH)+1;
        int day = calendar.get(Calendar.DATE);
        System.out.println(year+"å¹´"+month+"æœˆ"+day+"æ—¥");
        /**
         *  æ—¶é—´
         */
        //Calendar.HOUR æ˜¯12 è¿›åˆ¶ HOUR_OF_DAY 24å°æ—¶åˆ¶
        int hour = calendar.get(Calendar.HOUR_OF_DAY);
        int minute = calendar.get(Calendar.MINUTE);
        int second = calendar.get(Calendar.SECOND);
        System.out.println(hour+":"+minute+":"+second);
        //æ—¥æœŸè®¾ç½®
        calendar.set(2007,11,21);
        System.out.println(calendar.get(Calendar.MONTH));

        //æ˜ŸæœŸ ä¸€ -> 2
        //æ˜ŸæœŸ å…­ -> 7
        //æ˜ŸæœŸ æ—¥ -> 1
        System.out.println((calendar.get(Calendar.DAY_OF_WEEK)+6)%7);
    }
```

## ç±»

### åŸºæœ¬è§„åˆ™

è‡ªå®šä¹‰çš„æ•°æ®ç±»å‹ï¼ŒåŒ…å«å±æ€§å’Œæ“ä½œ
> (é¦–å­—æ¯å¤§å†™ï¼Œå˜é‡å’Œæ–¹æ³•é¦–å­—æ¯å°å†™)
> å˜é‡ç”¨åè¯æˆ–è€…å½¢å®¹è¯
> æ–¹æ³•åç”¨åŠ¨è¯
> è¿”å›å€¼æ˜¯boolenå‹ æ˜å‰åŠ is
> åæœ‰å¤šä¸ªå•è¯ï¼Œé™¤é¦–å•è¯å¤–ï¼Œå…¶ä½™å•è¯é¦–å­—æ¯å¤§å†™

```java
class Point {
    int x,y;
    move(int x,int y);
    show();
}
```

### æ„é€ å‡½æ•°

### ç±»å˜é‡ä¸ç±»æ–¹æ³•

å®ä¾‹å˜é‡ï¼šåˆ›å»ºå¯¹è±¡æ—¶ï¼Œåˆ†é…å†…å­˜ï¼Œé€šè¿‡å¯¹è±¡è®¿é—®è¿™äº›å¯¹è±¡  
ç±»å˜é‡ï¼šåœ¨å¸¸è§ç¬¬ä¸€ä¸ªç±»æ—¶åˆ†é…ç©ºé—´ï¼Œå’Œå…¶ä»–ç±»å…±äº«  
ç±»å˜é‡å’Œç±»æ–¹æ³•ä½•ä»¥é€šè¿‡å¯¹è±¡è®¿é—®ä¹Ÿå¯é€šè¿‡ç±»åè¿›è¡Œè®¿é—®

```java
    class Point{
        static int color;
        static void move();
    }
```

### ç±»çš„ç»§æ‰¿

> å…³é”®å­— extends
> å­ç±»ä¸èƒ½ç»§æ‰¿çˆ¶ç±»çš„æ„é€ æ–¹æ³•
> Object æ˜¯å…¨éƒ¨å¯¹è±¡çš„çˆ¶ç±»
> æ— å¤šé‡ç»§æ‰¿

$\color{yellow}{C++å¯¹äºå¤šç»§æ‰¿é‡‡ç”¨è™šç»§æ‰¿çš„æ–¹æ³•ï¼Œè§£å†³åŒæ—¶ç»§æ‰¿ä¸¤ä¸ªç›¸åŒçš„æ•°æ®æˆå‘˜å’Œæ–¹æ³•çš„é—®é¢˜}$  
[C++å¤šç»§æ‰¿](https://blog.csdn.net/yhc166188/article/details/81587968)

```java
/**
 * @author LiYang
 * @Project Name: JavaTest
 * @Package Name: PACKAGE_NAME
 * Created by MacBook Air on 2020/02/10.
 * Copyright Â© 2020 LiYang. All rights reserved.
 */
public class _emend {
    public static void main(String[] args) {
        Shape shape = new Shape("red",12.5);
        shape.print();
        Line line = new Line("red",12.5,10.5);
        line.print();
    }
}

class Shape {
    private String color;
    private double width;
    Shape(){}
    Shape(String color, double width){this.color=color;this.width=width;}
    String getColor(){return color;}
    double getWidth(){return width;}
    void setColor(String color){this.color = color;}
    void setWidth(double width){this.width = width;}

    void print(){
        System.out.println("é¢œè‰²ä¸ºï¼š"+color+"\nå®½åº¦ä¸ºï¼š"+width);
    }
}

class Line extends Shape {
    private double length;
    Line(){}
    Line(String color, double width, double length){
        //è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°
        super(color,width);
        // setColor(color);
        // setWidth(width);
        this.length = length;
    }
    public void print(){
        //ä½¿ç”¨superè°ƒç”¨çˆ¶ç¨‹åºåŒåæ–¹æ³•
        super.print();
        System.out.println("é•¿åº¦ä¸ºï¼š"+this.length);
    }
}

//çŸ©å½¢ç±»
// ...
//æ­£æ–¹å½¢ç±»
```



### $\color{#189}{æ–¹æ³•è¦†ç›–}$

åœ¨å­ç±»ä¸­åˆ›å»ºä¸çˆ¶ç±»åŒåã€åŒå‚æ•°çš„æ–¹æ³•å³ä¸ºæ–¹æ³•è¦†ç›–  
$\color{red}{superå…³é”®å­—å¯ä»¥è°ƒç”¨çˆ¶ç±»è¢«è¦†ç›–çš„æ–¹æ³•}$  
thiså…³é”®å­—åˆ™è°ƒç”¨å­ç±»åˆ›å»ºçš„æ–¹æ³•

çº¦æŸï¼š
1. ä¸€è‡´å£°æ˜(åç§°ã€å‚æ•°)
2. ä¸ä½äºåŸºç±»è®¿é—®æƒé™
3. æŠ›å‡ºçš„å¼‚å¸¸ç±»å‹ä¸èƒ½æ¯”åŸæ–¹æ³•å¤š

### $\color{#189}{æ–¹æ³•é‡è½½}$

Java ä¹Ÿé€šè¿‡å‚æ•°çš„ç±»å‹åŒºåˆ«æ–¹æ³•  
é‡è½½ï¼šæ–¹æ³•åç›¸åŒï¼Œå‚æ•°ä¸åŒï¼šä¸ªæ•°ã€ç±»å‹ã€æ¬¡åºä¸åŒ  
$\color{red}{ä¸åŒ…æ‹¬è¿”å›å€¼}$

```java
    class Fushu{
        double shi,xu;
        Fushu add(Fushu f){
            Fushu f1;
            f1 = new Fushu();
            f1.shi = f.shi + shi;
            f1.xu = f.xu + xu;
            return f1;
        }
        Fushu add(double f){
            Fushu f1;
            f1 = new Fushu();
            f1.shi = f + shi;
            f1.xu = xu;
            return f1;
        }
    }
```

### å¤šæ€æ€§

å¤šæ€æ€§æ˜¯æŒ‡ä¸€ä¸ªæ–¹æ³•å¯ä»¥æœ‰å¤šç§å®ç°ç‰ˆæœ¬ï¼Œ$\color{red}{â€œä¸€ç§å®šä¹‰ï¼Œå¤šç§å®ç°â€}$

![Class_1](https://gitee.com/KawYang/Notes/raw/master/Image/Java/class_1.png)

 > åˆ›å»ºä¸€ä¸ªé¸ŸğŸ¦ç±»Aï¼Œç”³è¯·ä¸€ä¸ªå¤§é›çš„å¯¹è±¡èµ‹å€¼ç»™Aï¼ŒAå¯ä»¥è°ƒç”¨å¤§é›ä¸‹è›‹çš„æ–¹æ³•ã€‚
 åŒæ ·å°†Aå¯¹è±¡ï¼Œç”³è¯·ä¸€ä¸ªé¸­çš„å¯¹è±¡èµ‹å€¼ç»™Aï¼ŒAåˆå¯ä»¥è°ƒç”¨é¸­çš„ä¸‹è›‹çš„æ–¹æ³•ã€‚  
 å¦‚æœå”è€é¸­ä¹Ÿä¸‹è›‹çš„è¯ï¼Œä¾æ—§å¯ä»¥è°ƒç”¨ä¸‹è›‹æ–¹æ³•ã€‚
 è¿™æ ·å¯¹è±¡Aå°±è¡¨ç°å‡ºä¸¤ç§ä¸åŒçš„ä¸‹è›‹æ–¹æ³•ï¼Œå³å¤šæ€  
 
$\color{red}{é¸­å±äºé¸Ÿï¼Œä½†é¸Ÿä¸ä¸€å®šå±äºé¸­}$  
æ‰€ä»¥ï¼Œé¸­å¯¹è±¡å¯ä»¥èµ‹å€¼ç»™é¸Ÿç±»å˜é‡ï¼›ä½†æ˜¯é¸Ÿå¯¹è±¡ä¸èƒ½èµ‹å€¼ç»™é¸­å˜é‡ã€‚  

$\color{red}{åªèƒ½è°ƒç”¨é¸Ÿ(A))ç±»ä¸­å«æœ‰çš„æ–¹æ³•}$  
å¦‚æœè¦è°ƒç”¨ä¹‹ç±»ä¸­æ–°åˆ›å»ºçš„æ–¹æ³•ï¼Œéœ€è¦è¿›è¡Œå¼ºåˆ¶æ•°æ®ç±»å‹è½¬æ¢

#### $\color{red}{å¤šæ€çš„å®ç°æ–¹å¼ï¼š}$
1. æ–¹æ³•é‡è½½ï¼Œæ˜¯ä¸€ç§é™æ€çš„å®ç°æ–¹å¼
2. ç±»çš„ç»§æ‰¿ï¼Œé€šè¿‡æ–¹æ³•çš„è¦†ç›–å®ç°çš„å¤šæ€ï¼Œç‰¹åˆ«çš„Objectç±»ä½¿æˆ‘ä»¬æ‰€æœ‰ç±»çš„çˆ¶ç±»
3. æ¥å£ï¼Œé¦–å…ˆè§£å†³çš„æ˜¯å¤šç»§æ‰¿çš„é—®é¢˜ï¼Œæ›´é‡è¦çš„æ˜¯ç»™å‡ºäº†ä¸åŒç±»å¯¹è±¡ä¹‹é—´å¤šæ€å®ç°çš„æ–¹å¼ã€‚

### åˆ¤æ–­æ•°æ®ç±»å‹æ–¹æ³•ï¼ˆ[obj] instanceof [class]ï¼‰

### ç±»çš„å°è£…æ€§

åˆç†çš„è®¿é—®ã€å±è”½å®ç°çš„ç»†èŠ‚

| æ˜¯å¦èƒ½è®¿é—®  | åŒä¸€ä¸ªç±»ä¸­ | åŒä¸€ä¸ªåŒ…ä¸­ | ä¸åŒåŒ…ä¸­å­ç±» | ä¸åŒåŒ…ä¸­éå­ç±» |
| :---------: | :--------: | :--------: | :----------: | :------------: |
|   private   |     âœ…      |     âŒ      |      âŒ       |       âŒ        |
| ï¼ˆdefaultï¼‰ |     âœ…      |     âœ…      |      âŒ       |       âŒ        |
|  protected  |     âœ…      |     âœ…      |      âœ…       |       âŒ        |
|   public    |     âœ…      |     âœ…      |      âœ…       |       âœ…        |

### æŠ½è±¡ç±»

æŠ½è±¡ç±»æ°¸è¿œä¸èƒ½è¢«å®ä¾‹åŒ–  
åªåšç»§æ‰¿è¿‡ç¨‹ä¸­ä½œä¸ºè¶…ç±»ä½¿ç”¨ï¼Œä¸èƒ½å®ä¾‹åŒ–æŠ½è±¡ç±»çš„å¯¹è±¡ã€‚  
å…³é”®å­— ï¼š abstract 
æŠ½è±¡æ–¹æ³•åªå£°æ˜ï¼Œæ²¡æœ‰æ–¹æ³•ä½“ï¼›  
åŒ…å«æŠ½è±¡æ–¹æ³•çš„ç±»ä¸€å®šæ˜¯æŠ½è±¡ç±»ï¼›  
æŠ½è±¡ç±»ä¸­å¯ä»¥åŒ…å«éæŠ½è±¡æ–¹æ³•ã€‚  
æŠ½è±¡ç±»æ— æ³•å®ä¾‹åŒ–ï¼Œå«æœ‰å­ç±»å…±æœ‰çš„å±æ€§å’Œæ–¹æ³•ã€‚  
å­ç±»ä¸­å¿…é¡»å°†æŠ½è±¡çš„æ–¹æ³•å®ä¾‹åŒ–ã€‚
ä½¿ç”¨å¤šæ€è¿›è¡Œä½¿ç”¨ã€‚
 
```java
abstract class Shape{
    //æŠ½è±¡æ–¹æ³•
    abstract void Print();
}
```

```java
public class _extends {
    public static void main(String[] args) {
        Shape shape;
        //å¤šæ€å®ç°
        shape = new Line("red",12.5,10.5);
        shape.print();
        shape = new LinePro();
        shape.print();
        //#
    }
}

abstract class Shape {
    private String color;
    private double width;
    public Shape(){}
    Shape(String color, double width){this.color=color;this.width=width;}
    String getColor(){return color;}
    double getWidth(){return width;}
    void setColor(String color){this.color = color;}
    void setWidth(double width){this.width = width;}
    //æŠ½è±¡æ–¹æ³•
    abstract void print();
}

class Line extends Shape {
    private double length;
    Line(){}
    Line(String color, double width, double length){
        super("sd",123.3);
        setColor(color);
        setWidth(width);
        this.length = length;
    }
    //å­ç±»ä¸­å°†æŠ½è±¡æ–¹æ³•å®ç°
    public void print(){
        System.out.println("é¢œè‰²ä¸ºï¼š"+super.getColor()+"\nå®½åº¦ä¸ºï¼š"+super.getWidth()+"\n----");
        System.out.println("çº¿çš„é¢œè‰²æ˜¯:"+this.getColor()+"\nå®½åº¦ä¸ºï¼š"+this.getWidth()+"\né•¿åº¦ä¸ºï¼š"+this.length);
    }
}

class LinePro extends Line{
    double pro;
    public void print(){
        super.print();
        System.out.println(pro);
    }
}
```

### finalç±»

ä¸èƒ½è¢«ç»§æ‰¿çš„ç±»
ä¾‹å¦‚ï¼šStringç±»å°±ä¸èƒ½ç»§æ‰¿
finalå¯ä»¥é˜²æ­¢ç¨‹åºå‘˜åˆ›å»ºç»•è¿‡å®‰å…¨é™åˆ¶çš„å­ç±»

> finalæ–¹æ³•

ç±»å¯ä»¥ç»§æ‰¿ï¼Œä½†æ˜¯æ–¹æ³•ä¸å…è®¸ä¿®æ”¹ï¼Œå¯ä»¥åˆ›å»ºfinalæ–¹æ³•

> final å±æ€§

å¸¸é‡ã€å‘½åå…¨éƒ¨å¤§å†™ã€å•è¯é—´_åˆ†éš”

> ç©ºç™½finalå±æ€§  (ä¸è®¾ç½®åˆå€¼)

åªèƒ½åœ¨æ„é€ å‡½æ•°å†…èµ‹å€¼

### æ¥å£

å…³é”®å­—ï¼šinterface
åˆ›å»ºæ–¹æ³•ä¸ç±»åˆ›å»ºç›¸ä¼¼
åœ¨æ¥å£ä¸­ï¼Œæ‰€æœ‰çš„æ–¹æ³•éƒ½æ˜¯æŠ½è±¡æ–¹æ³•ï¼ˆå¯ä»¥ç†è§£ä¸ºæŠ½è±¡ç±»ï¼‰
ä¸»è¦ç”¨äºåˆ›å»ºç±»å’Œç±»ä¹‹é—´çš„ä¸€ä¸ªâ€œåè®®â€
ç±»è™½ç„¶ä¸åŒï¼Œä½†æ˜¯æœ‰ç€ä¸€äº›å…±åŒçš„æ–¹æ³•

![interface_1](https://gitee.com/KawYang/Notes/raw/master/Image/Java/interface_1.png)

```java
interface Flyer{
    public abstract void takeoff();
    //è§„å®šåªèƒ½æ˜¯ public abstract ç±»å‹
    void land();
}

class Airplane implements Flyer{
    int x;
    double y;
    //å®ç°æ–¹æ³•
    public void takeoff(){

    }
    public void land(){

    }
    //#
    void other(){

    }
}
```

æ³¨æ„ï¼š
> * æ¥å£å®ç°åªèƒ½ç”¨ **public**  
> * æŠ½è±¡ç±»å¯ä»¥ä¸ç”¨å®ç°æ¥å£ä¸­å…¨éƒ¨çš„æ–¹æ³•**abstract**  
> * æ¥å£ä¹Ÿå¯ä»¥æ·»åŠ æ•°æ®æˆå‘˜ï¼Œé»˜è®¤ä¸º**public static final**
> * å¯ä»¥å®ç°ä¸ç›¸å…³ä¸¤ä¸ªå¯¹è±¡é€šè¿‡å¤šæ€å¤„ç†

### ç±»å’Œæ¥å£

1. ç±»æ˜¯å®ä¾‹çš„æŠ½è±¡
2. æ¥å£æ˜¯è§„åˆ™ã€æ ‡å‡†çš„é›†åˆ
3. æ¥å£å¯ä»¥å¤šé‡ç»§æ‰¿ã€ç±»åªæœ‰ä¸€ä¸ªçˆ¶ç±»

$\color{red}{æŠ½è±¡ç±»å’Œæ¥å£çš„ä¸åŒ}$

1. æŠ½è±¡ç±»çº¦å®šå¤šä¸ªå­ç±»ï¼›æ¥å£çº¦å®šä¸åŒå…³ç³»çš„æ–¹æ³•
2. æŠ½è±¡ç±»å«æœ‰æ™®é€šç±»è®¿é—®æƒé™çš„æˆå‘˜ï¼›æ¥å£ä¸­æ‰€æœ‰æˆå‘˜è®¿é—®æƒé™éƒ½æ˜¯ public
3. æŠ½è±¡ç±»é‡Œè¾¹åŒ…å«éæŠ½è±¡æ–¹æ³•ï¼›æ¥å£ä¸­å…¨éƒ¨éƒ½æ˜¯æŠ½è±¡æ–¹æ³•
4. æŠ½è±¡ç±»å¯ä»¥å£°æ˜æˆå‘˜å˜é‡ï¼›æ¥å£åªèƒ½å£°æ˜å¸¸é‡

$\color{red}{æŠ½è±¡ç±»å’Œæ¥å£ç›¸åŒç‚¹}$

1) éƒ½å«æœ‰æŠ½è±¡æ–¹æ³•
2) éƒ½ä¸èƒ½å®ä¾‹åŒ–

### å†…éƒ¨ç±»

ç±»çš„åµŒå¥—ï¼ŒåŒæ ·å…·æœ‰ç±»çš„æ‰€æœ‰å±æ€§ï¼Œåœ¨ä¸€ä¸ªç±»é‡Œè¾¹è¿›è¡Œå£°æ˜ä¸€ä¸ªç±»  
ç”¨ ``.`` è¿›è¡Œè®¿é—®ã€‚å¦‚Line.Point

```java
class Line{
    Point x1,x2;
    void printf(){

    }
    //å†…éƒ¨ç±»
    protected class Point{
        protected int x,y;
        protected void print(){
            System.out.println("("+x+","+y+")");
        }
    }
}
```

å½“å£°æ˜â€œå§”æ‰˜â€(å‡½æ•°ä¼ é€’çš„å‚æ•°ä¸ºç±»çš„åç§°ã€Œnew ClassNameã€)æ—¶,å†…éƒ¨ç±»ä¸å¤–éƒ¨ç±»åç§°ç›¸åŒï¼Œä¼šé¦–å…ˆä¼ é€’å†…éƒ¨ç±»

### åŒ¿åå†…éƒ¨ç±»

å½“æŸä¸ªç±»åœ¨åˆ›å»ºçš„æ—¶å€™åªæ˜¯ç”¨ä¸€æ¬¡ï¼Œå¯ä»¥åœ¨ä½¿ç”¨è¯­å¥ä¸­ç›´æ¥å®šä¹‰ï¼Œä¸å¿…ä¸ºç±»å‘½åã€‚

```java
    fr.addWindowListener(new WindowAdapter(){
        public void windoClosing(WindowEvent e){
            System.exit(0);
        }
    });
```
ç¨‹åºä¼šç›‘æµ‹åˆ°WindowAdapteræ˜¯ä¸€ä¸ªæ¥å£(??)ï¼Œä¸èƒ½å£°æ˜ï¼Œå°±ä¼šè§£æä¸ºç»§æ‰¿çš„æŸä¸ªç±»ã€‚  
ç›¸å½“äº ``WindowAdapter f = new SonName();``(å¤šæ€)

åŒ¿åä¸ºäº†ç¼–è¯‘å™¨å‡å°‘åƒåœ¾çš„ç”Ÿæˆã€‚(æœ‰åå…³è”å†…å®¹è¾ƒå¤š)

### Objectç±»

åœ¨Objectç±»å†…è®¾ç½®äº†ä¸€äº›é€šç”¨çš„æ–¹æ³•ã€‚

1. protect void finalize(); å›æ”¶å†…å­˜ ææ„å‡½æ•°ï¼Ÿï¼Ÿ
2. public String toString(); è¿”å›å­—ç¬¦ä¸²å½¢å¼
3. public boolean equals(Object object); æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦â€œç›¸ç­‰â€ ï¼ˆç±»å‹ç›¸åŒæ¯”è¾ƒåœ°å€åœ°å€ï¼‰
4. public int comperTo(Object object); æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å¤§å°ï¼ˆè¿”å› 0 ï¼Œ+ ï¼Œ-ï¼‰
5. 

```java
public class objected {
    public static void main(String[] args) {
        Person person1 = new Person(110,20,true);
        Person person2 = new Person(120,21,true);
        System.out.println(person1.comperTo(person2));
        System.out.println(person1.equals(person2));
    }
}

class Person{
    int tall,age;
    boolean gender;
    Person(int tall,int age,boolean gender){
        this.tall = tall;
        this.age = age;
        this.gender = gender;
    }
    Person(){
        this(120,20,true);
    }
    //é‡å†™ Object ä¸­çš„ equals å‡½æ•°
    public boolean equals(Object b){
        return tall == ((Person)b).tall;
    }
    //é‡å†™ Object ä¸­çš„ comperTo å‡½æ•°
    public int comperTo(Object b){
        return age - ((Person)b).age;
    }
}
```

---

## å›¾å½¢åŒ–ç•Œé¢

### $\color{#099}{ç»„ä»¶å’Œå®¹å™¨}$

æŠ½è±¡çª—å£å·¥å…·åŒ… AWT  
Swing

AWTå®¹å™¨ï¼š
| åŸºæœ¬ç»„ä»¶ |   åç§°   |                                        |     |
| :------: | :------: | :------------------------------------- | --- |
| windowç±» |  çª—å£ç±»  | æ— è¾¹æ¡†å’Œæ ‡é¢˜,ä¸èƒ½é™„åŠ åˆ°å…¶ä»–çš„å®¹å™¨      |     |
| Frameç±»  |  æ¡†æ¶ç±»  | å¯ä»¥æœ‰ä¸€ä¸ªèœå•æ¡ï¼Œå¦åˆ™ä¸windowååˆ†ç›¸ä¼¼ |     |
| Dailogç±» | å¯¹è¯æ¡†ç±» | åªæœ‰åœ¨ä¸€ä¸ªç›¸åº”çš„Frameç±»å­˜åœ¨æ‰å­˜åœ¨      |     |
| Panelç±»  |  é¢æ¿ç±»  | åœ¨çª—å£é‡Œè¾¹è¿›è¡Œåˆ’åˆ†                     |     |

æ§ä»¶

Buttonã€Labelã€TextFieldã€TextAreaã€‚ã€‚ã€‚

![Form_0](https://gitee.com/KawYang/Notes/raw/master/Image/Java/Form_0.png)
![Form_1](https://gitee.com/KawYang/Notes/raw/master/Image/Java/Form_1.png)

### çª—ä½“ç¨‹åºçš„åˆ›å»º

ä½¿ç”¨æ§ä»¶ç›´æ¥ç”³è¯·ï¼Œåˆ›å»ºç›¸åº”å¯¹è±¡ï¼Œç„¶åé€šè¿‡å¯¹è±¡å†…ç½®å‡½æ•°è¿›è¡Œè®¾ç½®æ§ä»¶åŠŸèƒ½ç­‰

```java
package win1;

import java.awt.*;

/**
 * @author Mac
 * @Project Name: WinForm
 * @Package Name: win1
 * Created by MacBook Air on 2020/02/05.
 * Copyright Â© 2020 KawYang. All rights reserved.
 */
public class MyFrame {
    public static void main(String[] args) {
        //çª—å£æ ‡é¢˜ Hello world
        Frame fr = new Frame("Hello World");
        fr.setSize(500,500);
        fr.setBackground(Color.cyan);
        Panel pa = new Panel();
        pa.setSize(530,630);
        pa.setBackground(Color.GRAY );
        fr.add(pa);
        fr.setVisible(true);
    }
}
```

æ•ˆæœå›¾ï¼š  

![Form_2](https://gitee.com/KawYang/Notes/raw/master/Image/Java/Form_2.png)

---

### $\color{#188}{Buttonåˆ›å»º}$

```java
public class MyButton {
    public static void main(String[] args) {
        Frame fr = new Frame("MyButton");
        fr.setLayout(new FlowLayout());
        Button button1 = new Button("OK");
        Button button2 = new Button("OPEN");
        Button button3 = new Button("CLOSE");
        button1.setEnabled(true);
        button2.setEnabled(false);
        fr.add(button1);
        fr.add(button2);
        fr.add(button3);
        fr.setSize(300,300);
        fr.setVisible(true);
    }
}
```

æ•ˆæœå›¾ï¼š

![From_3](https://gitee.com/KawYang/Notes/raw/master/Image/Java/Form_3.png)

### $\color{#189}{ç™»å½•é¡µé¢}$

```java
public class Login {
    public static void main(String[] args) {
        JFrame fr = new JFrame("Login");
        fr.setSize(400,100);
        fr.setBackground(Color.cyan);
        //è®¾ç½®çª—ä½“åœ¨æ¡Œé¢ä¸Šçš„ä½ç½®
        fr.setLocation(300,300);
        //å®¹å™¨
        Container fr_container = fr.getContentPane();
        //è®¾ç½®å¸ƒå±€
        fr_container.setLayout(new FlowLayout());
        fr_container.add(new JLabel("User"));
        fr_container.add(new JTextField("user1",10));
        fr_container.add(new JLabel("Passed"));
        fr_container.add(new JPasswordField("passed",10));
        fr_container.add(new JButton("OK"));
        fr_container.add(new JButton("Cancel"));
        fr.setVisible(true);
    }
}

```

### $\color{#189}{GUIäº‹ä»¶}$

å½“ç”¨æˆ·æ‰§è¡ŒæŸä¸ªåŠ¨ä½œæ—¶ï¼Œå¯¹è¯¥åŠ¨ä½œè¯´åšçš„ååº”  
åŠ¨ä½œè§¦å‘äº‹ä»¶çš„å‘ç”Ÿ

```java
    //è·å–æ‰§è¡Œç¨‹åºçš„å½“å‰è·¯å¾„
    String file = System.getProperty("user.dir");
    // file = /Users/mac/MyCodes/IDEAProjects/JavaTest
    ImageIcon icon = new ImagIcon(file+"/01.jpg");
    //è®¾ç½®ç…§ç‰‡
    jLabel1.setIcon(icon);
```

#### å§”æ‰˜æ¨¡å‹

> * äº‹ä»¶æºå¯¹è±¡ï¼šäº§ç”Ÿäº‹ä»¶çš„ç»„ä»¶å¯¹è±¡ï¼Œå¦‚æŒ‰é’®
> * äº‹ä»¶å¯¹è±¡ï¼šæè¿°äº‹ä»¶å‘ç”Ÿæ—¶çŠ¶æ€ä¿¡æ¯ï¼Œå¦‚ç‚¹å‡»é¼ æ ‡
> * äº‹ä»¶ç›‘å¬å™¨ï¼šæä¾›äº‹ä»¶å¤„ç†å¯¹è±¡

Javaè™šæ‹Ÿæœºå¯¹äº‹ä»¶ä¸ä½œå¤„ç†ï¼Œå…ˆå¯¹ç›‘å¬è¿›è¡Œæ³¨å†Œï¼Œå½“å‘ç”ŸæŸä¸ªäº‹ä»¶æ—¶ï¼Œåœ¨æ³¨å†Œä¸­è°æ„Ÿå…´è¶£ï¼Œå¯¹è¯¥äº‹ä»¶è¿›è¡Œå¤„ç†ã€‚äº‹ä»¶å¤„ç†æœºåˆ¶å¤„ç†ã€‚  

### äº‹ä»¶æºå¯¹è±¡

å¤šä¸ªæ§ä»¶å…±åŒä½¿ç”¨åŒä¸€æ®µä»£ç ï¼Œéœ€è¦è·å–è§¦å‘äº‹ä»¶çš„ç©ºé—´ä¿¡æ¯  $\color{red}{ActionEvent}$  
æ–¹æ³•ï¼š getSource() è·å–äº‹ä»¶å¯¹è±¡

```java
    JRadioButton jr = (JRadioButton) evt.getSource()
    if (jr == jRadioButton1){
        ...
    }
    if(evt.getSource() == jRadioButton1){
        ...
    }
```
 
$\color{red}{IDEAåˆ›å»ºç›‘å¬å™¨}$

ç‚¹å‡»æ§ä»¶-> Creat Listener
| ç¼–å·  |      äº‹ä»¶ç±»      |    äº‹ä»¶ç›‘å¬æ¥å£     | æè¿°                         |
| :---: | :--------------: | :-----------------: | :--------------------------- |
|   1   |   ActionEvent    |   ActionListener    | æ­¤æ¥å£ç”¨äºæ¥æ”¶åŠ¨ä½œäº‹ä»¶ã€‚     |
|   2   |  ComponentEvent  |  ComponentListener  | æ­¤æ¥å£ç”¨äºæ¥æ”¶ç»„ä»¶äº‹ä»¶ã€‚     |
|   3   |    ItemEvent     |    ItemListener     | æ­¤æ¥å£ç”¨äºæ¥æ”¶é¡¹ç›®äº‹ä»¶ã€‚     |
|   4   |     KeyEvent     |     KeyListener     | è¯¥æ¥å£ç”¨äºæ¥æ”¶æŒ‰é”®äº‹ä»¶ã€‚     |
|   5   |    MouseEvent    |    MouseListener    | è¯¥æ¥å£ç”¨äºæ¥æ”¶é¼ æ ‡äº‹ä»¶ã€‚     |
|   6   |   WindowEvent    |   WindowListener    | è¯¥æ¥å£ç”¨äºæ¥æ”¶çª—å£äº‹ä»¶ã€‚     |
|   7   | AdjustmentEvent  | AdjustmentListener  | è¯¥æ¥å£ç”¨äºæ¥æ”¶è°ƒæ•´äº‹ä»¶ã€‚     |
|   8   |  ContainerEvent  |  ContainerListener  | æ­¤æ¥å£ç”¨äºæ¥æ”¶å®¹å™¨äº‹ä»¶ã€‚     |
|   9   | MouseMotionEvent | MouseMotionListener | è¯¥æ¥å£ç”¨äºæ¥æ”¶é¼ æ ‡è¿åŠ¨äº‹ä»¶ã€‚ |
|  10   |    FocusEvent    |    FocusListener    | è¯¥æ¥å£ç”¨äºæ¥æ”¶ç„¦ç‚¹äº‹ä»¶ã€‚     |

[å‚è€ƒå†…å®¹](https://www.yiibai.com/swing/swing_event_listeners.html)

ActionListener æœ€å¸¸ç”¨çš„äº‹ä»¶ï¼ˆå¦‚æŒ‰é’®->å•å‡»ï¼‰

```java
/**
 *äº‹ä»¶ç›‘å¬å™¨ç±»
 *è¯¥ç±»éœ€è¦å®ç°ActionListeneræ¥å£çš„æ–¹æ³•ï¼ˆèµ„æ ¼ï¼‰
 */
class ButtonHandler implements ActionListener{
    
    @Override
    public void actionPerformed(ActionEvent e){
        System.out.println("ç‚¹å‡»");

    }
    
}

/**
 * @author Mac
 */
public class ButtonTest {
    public static void main(String[] args) {
        JFrame fr = new JFrame("Button");
        JButton button = new JButton("ç‚¹å‡»");
        button.setBackground(Color.cyan);
        //åˆ›å»ºäº‹ä»¶å§”æ‰˜ï¼ˆæ³¨å†Œï¼‰
        button.addActionListener(new ButtonHandler());
        button.setSize(20,50);
        button.setText("ç™»å½•");
        fr.add(button);
        fr.setSize(300,300);
        fr.setVisible(true);
    }
}
```

![Event_2](https://gitee.com/KawYang/Notes/raw/master/Image/Java/Event_2.png)


### äº‹ä»¶é€‚é…å™¨

Adapterç±»
é€šè¿‡é€‚é…å™¨æ·»åŠ æ§ä»¶çš„äº‹ä»¶
ä¾‹ï¼š
```java
class WindowClose extends windowAdapter {
    public void windowClosing(WindowEvent e){
        Systeam.exit(0);
    }
}
public static void main(String []args){
    Frame fr = new Frame("Login");
    fr.addwindowListener(new WindowClose());
    fr.setSize(300,300);
    fr.setVisible(true);
}
```
å¦‚æœä½¿ç”¨ç›‘å¬å™¨ï¼Œéœ€è¦å®ç°windowLisenter ç±»å†…çš„å…¨éƒ¨æ–¹æ³•  
å¦‚æœä½¿ç”¨é€‚é…å™¨ï¼Œéœ€è¦ç»§æ‰¿windowAdapter ç±»ï¼Œå®ç°ç›¸åº”çš„ä¸€ä¸ªæ–¹æ³•ã€‚  
é€‚é…å™¨å†…æ–¹æ³•å…¨éƒ¨å®ç°ï¼Œä½†æ˜¯éƒ½æ²¡æœ‰å†…å®¹{}







### ä½¿ç”¨å¤šä¸ªçª—ä½“

æ™®é€šçª—ä½“å’Œå¯¹è¯æ¡†  

å¯¹è¯æ¡†ï¼šå¦‚æœä¸æ“ä½œä¼šæ©ç›–ä¸‹è¾¹çš„çª—ä½“  
å…³é—­ï¼š Exitï¼ˆç³»ç»Ÿå…³é—­ï¼‰ã€Disposeï¼ˆå…³é—­å½“å‰çª—ä½“ï¼‰ã€Hideï¼ˆéšè—å½“å‰çª—ä½“ï¼‰ å±æ€§ï¼šDefaultCloseOperation

èœå•ï¼š

|    å     | åŠŸèƒ½   |
| :-------: | :----- |
| JMenuBar  | èœå•æ¡ |
|   JMenu   | èœå•   |
| JMenuItem | èœå•é¡¹ |

é€šç”¨å¯¹è¯æ¡†

|      å       | åŠŸèƒ½                                 |
| :-----------: | :----------------------------------- |
| JFileChooser  | æ–‡ä»¶é€‰æ‹©å¯¹è¯æ¡†                       |
|  JOptionPane  | æ¶ˆæ¯å¯¹è¯æ¡†   (ä¾‹å¦‚æ˜¯å¦é€€å‡ºï¼ŸYESï¼ŒNO) |
| JColorChooser | é¢œè‰²é€‰æ‹©å¯¹è¯æ¡†                       |

### ç»„ä»¶å¸ƒå±€ï¼ˆå¸ƒå±€ç®¡ç†å™¨ç®¡ç†ï¼‰

è·¨å¹³å° çª—å£å¤§å°ä¸ç¡®å®š

æ§ä»¶å¤§å°éšç€çª—å£çš„å¤§å°è°ƒæ•´è€Œæ”¹å˜

```java
    Frame f = new Frame();
    f.setLayout(new FlowLayout());
```

#### FlowLayout

ç±»ä¼¼æ–‡å­—å¯ä»¥æŠ˜è¡Œ  

æ˜¯Panelçš„ç¼ºçœå¸ƒå±€ç®¡ç†å™¨ï¼ˆPanelé‡Œä¸è®¾ç½®ï¼Œç”¨çš„æ˜¯FlowLayOutï¼‰

#### BorderLayout

ä¸Šä¸­ä¸‹å·¦å³ï¼Œå˜åŒ–å¤§å°çª—å£ï¼Œä¸­é—´å˜åŒ–æœ€å¤§ï¼Œè¾¹ä¸Šä¸å˜  
æ˜¯window ï¼ŒFrameå’ŒDialogç¼ºçœçš„å¸ƒå±€ç®¡ç†å™¨

#### GridLayout

è°ƒæ•´å¤§å°æ˜¯ï¼Œå‡åŒ€åˆ†æ ¼çš„å¤§å°ï¼Œå‡åŒ€å˜åŒ–ï¼ˆâ€œç”°â€ï¼‰  
ä½¿ç»„ä»¶å‘ˆç½‘æ ¼çŠ¶å¸ƒå±€ã€‚

#### CardLagout

å¼€ç‰‡å¼å¸ƒå±€  
ç”¨äº‹ä»¶è¿›è¡Œå¤„ç†  

> - èƒ½å¤Ÿç”¨å®ç°ä¸¤ä¸ªæˆ–æ›´å¤šçš„æˆå‘˜å…±äº«åŒä¸€ä¸ªç©ºé—´
> - å…±äº«ç©ºé—´çš„æˆå‘˜ä¹‹é—´çš„å…³ç³»å°±åƒä¸€å å¡ç‰‡ä¸€æ ·
> - åœ¨ä¸€å¼ å®¢ç‰‡ä¸­åªèƒ½æ˜¾ç¤ºä¸€ä¸ªç»„ä»¶æˆ–è€…ä¸€ä¸ªå®¹å™¨ï¼ˆåµŒå¥—å¤šä¸ªç»„ä»¶)
>

#### æ— å¸ƒå±€ç®¡ç†

> - setLayout(null) :å¸ƒå±€ç®¡ç†æ–¹å¼ä¸ºç©º
> - setLocation(),setSize(),setBounds(): åŠ¨æ€è®¾ç½®å¤§å°
> - å¦‚æœç”¨æˆ·ä¸ç®¡ç†ï¼Œæ§ä»¶æ˜¾ç¤ºæ•ˆæœä¸å¹³å°æœ‰å…³ã€‚

#### å¤æ‚çš„å¸ƒå±€

### $\color {#199}{æ§ä»¶}$

|         å          |                         åŠŸèƒ½                          |
| :-----------------: | :---------------------------------------------------: |
|    JRadioButton     |                        å•é€‰é’®                         |
|     ButtonGroup     |                        æŒ‰é’®ç»„                         |
|      JCheckBox      |                        å¤é€‰æ¡†                         |
| textã€selected å±æ€§ | è®¾ç½®å†…å®¹å’Œé€‰å®š   $\color{red}{isselected()}$       ï½œ |
|    Colorã€Fontç±»    |  è®¾ç½®å­—ä½“é¢œè‰²å’Œå¤§å°$\color{red}{import\ java.awt.*}$  |


### ä¾‹å­

```java
package form;

import javax.swing.*;
import java.awt.*;

/**
 * @author LiYang
 * @Project Name: WinForm
 * @Package Name: form
 * Created by MacBook Air on 2020/02/09.
 * Copyright Â© 2020 LiYang. All rights reserved.
 */
public class login {
    private JPanel test;
    private JButton ç™»å½•Button;
    private JButton å–æ¶ˆButton;
    private JTextField textField1;
    private JPasswordField passwordField1;


    public login() {
        ç™»å½•Button.addActionListener(e -> {
            String name = textField1.getText();
            System.out.println(name);
            String key = String.valueOf(passwordField1.getPassword());
            System.out.println(key);
        });
        å–æ¶ˆButton.addActionListener(e -> System.exit(0));
    }

    public static void main(String[] args) {
        JFrame frame = new JFrame("login");
        frame.setContentPane(new login().test);
        frame.setLocation(500, 200);
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.pack();
        frame.setVisible(true);
    }

    {
// GUI initializer generated by IntelliJ IDEA GUI Designer
// >>> IMPORTANT!! <<<
// DO NOT EDIT OR ADD ANY CODE HERE!
        $$$setupUI$$$();
    }

    /**
     * Method generated by IntelliJ IDEA GUI Designer
     * >>> IMPORTANT!! <<<
     * DO NOT edit this method OR call it in your code!
     *
     * @noinspection ALL
     */
    private void $$$setupUI$$$() {
        test = new JPanel();
        test.setLayout(new GridBagLayout());
        final JPanel spacer1 = new JPanel();
        GridBagConstraints gbc;
        gbc = new GridBagConstraints();
        gbc.gridx = 1;
        gbc.gridy = 3;
        gbc.fill = GridBagConstraints.VERTICAL;
        test.add(spacer1, gbc);
        final JPanel panel1 = new JPanel();
        panel1.setLayout(new GridBagLayout());
        gbc = new GridBagConstraints();
        gbc.gridx = 1;
        gbc.gridy = 2;
        gbc.fill = GridBagConstraints.BOTH;
        test.add(panel1, gbc);
        final JPanel spacer2 = new JPanel();
        gbc = new GridBagConstraints();
        gbc.gridx = 1;
        gbc.gridy = 1;
        gbc.fill = GridBagConstraints.VERTICAL;
        panel1.add(spacer2, gbc);
        final JPanel spacer3 = new JPanel();
        gbc = new GridBagConstraints();
        gbc.gridx = 1;
        gbc.gridy = 0;
        gbc.fill = GridBagConstraints.VERTICAL;
        panel1.add(spacer3, gbc);
        final JLabel label1 = new JLabel();
        Font label1Font = this.$$$getFont$$$(null, -1, 18, label1.getFont());
        if (label1Font != null) label1.setFont(label1Font);
        label1.setText("ç”¨æˆ·åï¼š");
        gbc = new GridBagConstraints();
        gbc.gridx = 0;
        gbc.gridy = 0;
        gbc.anchor = GridBagConstraints.WEST;
        panel1.add(label1, gbc);
        final JLabel label2 = new JLabel();
        Font label2Font = this.$$$getFont$$$(null, -1, 18, label2.getFont());
        if (label2Font != null) label2.setFont(label2Font);
        label2.setText("å¯†  ç ï¼š");
        gbc = new GridBagConstraints();
        gbc.gridx = 0;
        gbc.gridy = 1;
        gbc.anchor = GridBagConstraints.WEST;
        panel1.add(label2, gbc);
        passwordField1 = new JPasswordField();
        passwordField1.setColumns(8);
        gbc = new GridBagConstraints();
        gbc.gridx = 2;
        gbc.gridy = 1;
        gbc.anchor = GridBagConstraints.WEST;
        gbc.fill = GridBagConstraints.HORIZONTAL;
        panel1.add(passwordField1, gbc);
        textField1 = new JTextField();
        textField1.setColumns(8);
        gbc = new GridBagConstraints();
        gbc.gridx = 2;
        gbc.gridy = 0;
        gbc.anchor = GridBagConstraints.WEST;
        gbc.fill = GridBagConstraints.HORIZONTAL;
        panel1.add(textField1, gbc);
        final JPanel spacer4 = new JPanel();
        gbc = new GridBagConstraints();
        gbc.gridx = 1;
        gbc.gridy = 1;
        gbc.fill = GridBagConstraints.HORIZONTAL;
        test.add(spacer4, gbc);
        final JPanel panel2 = new JPanel();
        panel2.setLayout(new GridBagLayout());
        gbc = new GridBagConstraints();
        gbc.gridx = 1;
        gbc.gridy = 4;
        gbc.fill = GridBagConstraints.BOTH;
        test.add(panel2, gbc);
        ç™»å½•Button = new JButton();
        ç™»å½•Button.setText("ç™»å½•");
        gbc = new GridBagConstraints();
        gbc.gridx = 0;
        gbc.gridy = 0;
        gbc.fill = GridBagConstraints.HORIZONTAL;
        panel2.add(ç™»å½•Button, gbc);
        final JPanel spacer5 = new JPanel();
        gbc = new GridBagConstraints();
        gbc.gridx = 1;
        gbc.gridy = 0;
        gbc.fill = GridBagConstraints.VERTICAL;
        panel2.add(spacer5, gbc);
        å–æ¶ˆButton = new JButton();
        å–æ¶ˆButton.setText("å–æ¶ˆ");
        gbc = new GridBagConstraints();
        gbc.gridx = 2;
        gbc.gridy = 0;
        gbc.fill = GridBagConstraints.HORIZONTAL;
        panel2.add(å–æ¶ˆButton, gbc);
        final JPanel spacer6 = new JPanel();
        gbc = new GridBagConstraints();
        gbc.gridx = 2;
        gbc.gridy = 2;
        gbc.weightx = 1.0;
        gbc.fill = GridBagConstraints.HORIZONTAL;
        test.add(spacer6, gbc);
        final JPanel spacer7 = new JPanel();
        gbc = new GridBagConstraints();
        gbc.gridx = 0;
        gbc.gridy = 2;
        gbc.weightx = 1.0;
        gbc.fill = GridBagConstraints.HORIZONTAL;
        test.add(spacer7, gbc);
        final JLabel label3 = new JLabel();
        Font label3Font = this.$$$getFont$$$("Courier", Font.BOLD, 55, label3.getFont());
        if (label3Font != null) label3.setFont(label3Font);
        label3.setText("Hello World");
        gbc = new GridBagConstraints();
        gbc.gridx = 1;
        gbc.gridy = 0;
        gbc.anchor = GridBagConstraints.WEST;
        test.add(label3, gbc);
        final JPanel spacer8 = new JPanel();
        gbc = new GridBagConstraints();
        gbc.gridx = 1;
        gbc.gridy = 5;
        gbc.fill = GridBagConstraints.VERTICAL;
        test.add(spacer8, gbc);
    }

    /**
     * @noinspection ALL
     */
    private Font $$$getFont$$$(String fontName, int style, int size, Font currentFont) {
        if (currentFont == null) return null;
        String resultName;
        if (fontName == null) {
            resultName = currentFont.getName();
        } else {
            Font testFont = new Font(fontName, Font.PLAIN, 10);
            if (testFont.canDisplay('a') && testFont.canDisplay('1')) {
                resultName = fontName;
            } else {
                resultName = currentFont.getName();
            }
        }
        return new Font(resultName, style >= 0 ? style : currentFont.getStyle(), size >= 0 ? size : currentFont.getSize());
    }

    /**
     * @noinspection ALL
     */
    public JComponent $$$getRootComponent$$$() {
        return test;
    }

}
```
å¦‚å›¾ï¼š

![Form_1](https://gitee.com/KawYang/Notes/raw/master/Image/Java/Form_4.png)


## å¼‚å¸¸åŠå…¶åˆ†ç±»

è½¯ä»¶çš„å®¹é”™æ€§

### é”™è¯¯å’Œå¼‚å¸¸

> é”™è¯¯ï¼šè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œç¡¬ä»¶æˆ–æ“ä½œç³»ç»Ÿå‘ç”Ÿçš„é—®é¢˜ï¼Œå¦‚è™šæ‹Ÿæœºå´©æºƒ
> å¼‚å¸¸ï¼šç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿæ­£å¸¸ï¼Œè¿è¡Œæ—¶å‘ç”Ÿé”™è¯¯ã€‚å¦‚é™¤0

å¼‚å¸¸åˆ†ç±»ï¼š
è¿è¡Œæ—¶å¼‚å¸¸
å…¶ä»–å¼‚å¸¸

å¸¸ç”¨å¼‚å¸¸ç±»-è¿è¡Œæ—¶å¼‚å¸¸
|               å               |                                    |
| :----------------------------: | :--------------------------------- |
|      ArithmeticException       | ä¸€ä¸ªä¸å¯»å¸¸ç®—æœ¯è¿ç®—äº§ç”Ÿçš„å¼‚å¸¸ã€‚     |
| ArrayIndexOutOfBoundsException | æ•°ç»„ç´¢å¼•è¶…å‡ºèŒƒå›´æ‰€äº§ç”Ÿçš„å¼‚å¸¸ã€‚     |
|       ClassCastExcption        | ç±»å¯¹è±¡å¼ºè¿«è½¬æ¢ä¸å½“æ‰€äº§ç”Ÿçš„å¼‚å¸¸ã€‚   |
|      NullPointerException      | å¯¹è±¡å¼•ç”¨å‚è€ƒå€¼ä¸ºnullæ‰€äº§ç”Ÿçš„å¼‚å¸¸ã€‚ |

å¸¸ç”¨å¼‚å¸¸ç±»-å¿…é¡»å¤„ç†çš„å¼‚å¸¸
|           å           |                                                    |
| :--------------------: | :------------------------------------------------- |
| ClassNotFoundException | æ‰¾ä¸åˆ°ç±»æˆ–æ¥å£æ‰€äº§ç”Ÿçš„å¼‚å¸¸ã€‚                       |
|  InterruptedException  | ç›®å‰çº¿ç¨‹ç­‰å¾…æ‰§è¡Œå¦ä¸€çº¿ç¨‹ä¸­æ–­ç›®å‰çº¿ç¨‹æ‰€äº§ç”Ÿçš„å¼‚å¸¸ã€‚ |
|      IOException       | è¾“å…¥è¾“å‡ºè®¿é—®å¼‚å¸¸ã€‚                                 |

### è‡ªå®šä¹‰å¼‚å¸¸

åˆ›å»ºException çš„å­ç±»å°±æ˜¯åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å¼‚å¸¸  
æ‰¾ç¦»å¼‚å¸¸ä¿¡æ¯æœ€æ¥è¿‘çš„çˆ¶ç±»è¿›è¡Œç»§æ‰¿ï¼Œè®¸å¤šç›¸ä¼¼æ–¹æ³•éƒ½è¢«ç»§æ‰¿
class è‡ªå®šä¹‰å¼‚å¸¸ extends çˆ¶å¼‚å¸¸ç±»å{
    ç±»ä½“;
}

æŠ›å‡ºå¼‚å¸¸ï¼š

```java
    /**
     * @param userName 
     * @return user
     * @throws TooManyTimesWrongLogin
     */
    public static User check (String userName) throws TooManyTimesWrongLogin {
        String password;
        Scanner reader=new Scanner(System. in);
        for(int i=0;i<3;i++) {
            System.out.print1n("è¯·è¾“å…¥å¯†ç ï¼Œæ‚¨è¿˜æœ‰" + (3 - i) + "æ¬¡æœºä¼šï¼Œè¾“å…¥Qæˆ–qè¡¨ç¤ºå–æ¶ˆç™»é™†ã€‚");
            password = reader.next();
            if (userName.equals("admin") && password.equals(" 123456 ")){
             return new User(userName, true);
            }
            else if(password. equalsIgnoreCase("Q"))
                return new User (userName, false) ;
            throw new TooManyTimesWrongLogin (userName, "10.10.10.25");
        }
    }
```

## å¤šè¿›ç¨‹

è¿›ç¨‹æ˜¯ä¸€ä¸ªå¯å¹¶å‘æ‰§è¡Œçš„å…·æœ‰ç‹¬ç«‹åŠŸèƒ½çš„åº”ç”¨ç¨‹åºï¼Œæ˜¯æ“ä½œç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„åŸºæœ¬å•ä½ã€‚
è¿›ç¨‹åˆç”±çº¿ç¨‹ç»„æˆï¼Œè¿›ç¨‹åˆ†é…èµ„æºï¼Œçº¿ç¨‹å…±äº«è¿›ç¨‹èµ„æºï¼Œä¸å•ç‹¬ç”³è¯·ã€‚ 

ä¸€ã€ ç»§æ‰¿Threadç±»å®ç°å¤šçº¿ç¨‹  
1. å®šä¹‰ä¸€ä¸ªçº¿ç¨‹ç±»ï¼Œç»§æ‰¿Threadç±»ï¼Œå¹¶é‡å†™run()æ–¹æ³•
2. åˆ›å»ºè¯¥å­ç±»å¯¹è±¡åˆ›å»ºçº¿ç¨‹ï¼Œç”¨startè¿è¡Œ
   
äºŒã€ å®ç°Rnnnableæ¥å£å®ç°å¤šçº¿ç¨‹

1. åˆ›å»ºä¸€ä¸ªç±»å®ç°Runnableæ¥å£ï¼Œé‡å†™run()æ–¹æ³•å®ç°ä»£ç 
2. æŠŠRunnableå¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™Threadç±»çš„ä¸€ä¸ªæ„é€ æ–¹æ³•ï¼Œç„¶åstartè¿è¡Œ   
   
ä¸‰ã€é€šè¿‡ Callable å’Œ Future åˆ›å»ºçº¿ç¨‹ã€‚  
[å‚è€ƒ](https://www.runoob.com/java/java-multithreading.html)

```java
package test;

/**
 * @author LiYang
 * @Project Name: JavaTest
 * @Package Name: test
 * Created by MacBook Air on 2020/02/13.
 * Copyright Â© 2020 LiYang. All rights reserved.
 */
public class ThreadTest {
    public static void main(String[] args) {
        MyThread myThread1 = new MyThread();
        myThread1.start();
        Thread thread = new Thread(new MyRunnable());
        thread.start();

    }
}

//ä¸€ã€ é€šè¿‡ç»§æ‰¿Threadç±»ï¼Œåˆ›å»ºMyThreadå¯¹è±¡å®ç°è¿›ç¨‹
class MyThread extends Thread{
    public void run(){
        for(int i = 0;i<10;i++){
            System.out.println("MyThread Run!"+i);
            try {
                sleep(100);
            } catch (InterruptedException e) {
                System.out.println(e);
            }
        }
    }
}

//äºŒã€ é€šè¿‡å®ç°Runnableæ¥å£å®ç°å¤šçº¿ç¨‹
class MyRunnable implements Runnable{
    @Override
    public void run() {
        for (int i = 0; i < 10; i++) {
            System.out.println("MyRunnable Run!"+i);
            try {
                Thread.sleep(200);
            } catch (InterruptedException e) {
                System.out.println(e);
            }
        }
    }
}
```

è¿è¡Œç»“æœï¼š

```vim
MyThread Run!0
MyRunnable Run!0
MyThread Run!1
MyThread Run!2
MyRunnable Run!1
MyThread Run!3
MyThread Run!4
MyRunnable Run!2
MyThread Run!5
MyThread Run!6
MyRunnable Run!3
MyThread Run!7
MyRunnable Run!4
MyThread Run!8
MyThread Run!9
MyRunnable Run!5
MyRunnable Run!6
MyRunnable Run!7
MyRunnable Run!8
MyRunnable Run!9
```

### çº¿ç¨‹çš„è°ƒåº¦å’Œæ§åˆ¶

çº¿ç¨‹ä¼˜å…ˆçº§ï¼š1-10çº§ æ•°è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ï¼›ç›¸åŒä¼˜å…ˆçº§ï¼Œç³»ç»Ÿè°ƒåº¦ç®—æ³•  
è°ƒåº¦ç­–ç•¥ï¼šæŠ¢å å¼è°ƒåº¦ç­–ç•¥

çº¿ç¨‹åŸºæœ¬æ§åˆ¶æ–¹æ³•ï¼š
| åºå·  |                   æ–¹æ³•                    | æè¿°                                                                                                     |
| :---: | :---------------------------------------: | :------------------------------------------------------------------------------------------------------- |
|   1   |        public static void yield()         | æš‚åœå½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹å¯¹è±¡ï¼Œå¹¶æ‰§è¡Œå…¶ä»–çº¿ç¨‹                                                               |
|   2   |  public static void sleep(long millisec)  | åœ¨æŒ‡å®šçš„æ¯«ç§’æ•°å†…è®©å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹ä¼‘çœ ï¼ˆæš‚åœæ‰§è¡Œï¼‰ï¼Œæ­¤æ“ä½œå—åˆ°ç³»ç»Ÿè®¡æ—¶å™¨å’Œè°ƒåº¦ç¨‹åºç²¾åº¦å’Œå‡†ç¡®æ€§çš„å½±å“ã€‚ |
|   3   | public static boolean holdsLock(Object x) | å½“ä¸”ä»…å½“å½“å‰çº¿ç¨‹åœ¨æŒ‡å®šçš„å¯¹è±¡ä¸Šä¿æŒç›‘è§†å™¨é”æ—¶ï¼Œæ‰è¿”å› trueã€‚                                              |
|   4   |   public static Thread currentThread()    | è¿”å›å¯¹å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹å¯¹è±¡çš„å¼•ç”¨ã€‚                                                                     |
|   5   |      public static void dumpStack()       | å°†å½“å‰çº¿ç¨‹çš„å †æ ˆè·Ÿè¸ªæ‰“å°è‡³æ ‡å‡†é”™è¯¯æµã€‚                                                                   |

### çº¿ç¨‹å˜é‡

ThreadLocal å³çº¿ç¨‹å˜é‡
ä¸€ä¸ªçº¿ç¨‹å¯ä»¥æ ¹æ®ä¸€ä¸ª ThreadLocal å¯¹è±¡æŸ¥è¯¢åˆ°ç»‘å®šåœ¨è¿™ä¸ªçº¿ç¨‹ä¸Šçš„ä¸€ä¸ªå€¼ã€‚
å¯ä»¥é€šè¿‡ set(T)æ–¹æ³•æ¥è®¾ç½®ä¸€ä¸ªå€¼ï¼Œåœ¨å½“å‰çº¿ç¨‹ä¸‹å†é€šè¿‡ get()æ–¹æ³•è·å–åˆ°åŸå…ˆè®¾ç½®çš„å€¼ã€‚

```java
/**
 * ThreadDemo1 é‡‡ç”¨ThreadLocal(çº¿ç¨‹å˜é‡)çš„æ–¹å¼åˆ›å»ºintegerå˜é‡
 * ThreadDemo2 é‡‡ç”¨ç±»å˜é‡çš„æ–¹å¼åˆ›å»ºintegerå˜é‡
 */
public class ThreadLocalDemo {
    public static void main(String[] args) {
        test();
        System.out.println("===========");
        test2();
    }

    /**
     * ä¸åŒå¯¹è±¡ï¼Œåˆ›å»ºä¸¤ä¸ªçº¿ç¨‹
     * æµ‹è¯•ç»“æœ:æ¯ä¸ªçº¿ç¨‹å˜é‡äº’ä¸å½±å“ï¼Œéƒ½ç›¸å¯¹ç‹¬ç«‹ã€‚
     * å› ä¸ºæ˜¯å››ä¸ªä¸åŒçš„ThreadDemoå¯¹è±¡åˆ†åˆ«åˆ›å»ºçš„çº¿ç¨‹ï¼Œç§°ä¸ä¸Šæ˜¯å¤šçº¿ç¨‹ã€‚
     * ç›¸ç­‰äºåˆ›å»ºäº†å››ä¸ªä¸åŒçš„ç±»å¯¹è±¡
     */
    public static void test(){
        new Thread(new ThreadDemo1()).start();
        new Thread(new ThreadDemo1()).start();
        System.out.println("1----------");
        new Thread(new ThreadDemo2()).start();
        new Thread(new ThreadDemo2()).start();
    }


    /**
     * åŒä¸€ä¸ªå¯¹è±¡ï¼Œåˆ›å»ºä¸¤ä¸ªçº¿ç¨‹ã€‚
     * ThreadDemo1 é‡‡ç”¨ThreadLocalå˜é‡ï¼Œä¸¤ä¸ªçº¿ç¨‹äº’ä¸å½±å“ï¼Œå˜é‡ç›¸å¯¹ç‹¬ç«‹
     * ThreadDemo2 é‡‡ç”¨ç±»å˜é‡æ–¹å¼ï¼Œå¯¹äºåŒä¸€ä¸ªThreadå¯¹è±¡ï¼Œä¸¤ä¸ªçº¿ç¨‹ä¹‹é—´å˜é‡ç›¸äº’å½±å“
     * åŒä¸€ä¸ªå¯¹è±¡ï¼Œå…±äº«èµ„æºï¼Œåœ¨å¤šçº¿ç¨‹ä¸­å®¹æ˜“å‘ç”Ÿé”™è¯¯ã€‚
     */
    public static void test2(){
        ThreadDemo1 threadDemo1 = new ThreadDemo1();
        new Thread(threadDemo1).start();
        new Thread(threadDemo1).start();
        System.out.println("2-----------");
        ThreadDemo2 threadDemo2 = new ThreadDemo2();
        new Thread(threadDemo2).start();
        new Thread(threadDemo2).start();
    }
}

class ThreadDemo1 implements Runnable{
    /**ä½¿ç”¨ThreadLocalæä¾›çš„é™æ€æ–¹æ³•åˆ›å»ºä¸€ä¸ªçº¿ç¨‹å˜é‡ å¹¶ä¸”åˆå§‹åŒ–å€¼ä¸º0*/
    private static ThreadLocal<Integer> threadLocal = ThreadLocal.withInitial(() -> 0);

    @Override
    public void run(){
        for (int i = 0; i < 10; i++) {
            //getæ–¹æ³•è·å–çº¿ç¨‹å˜é‡å€¼
            Integer integer = threadLocal.get();
            integer += 1;
            //setæ–¹æ³•è®¾ç½®çº¿ç¨‹å˜é‡å€¼
            threadLocal.set(integer);
            System.out.println(integer);
        }
    }
}

class ThreadDemo2 implements Runnable{
    private Integer integer = 0;

    @Override
    public void run() {
        for (int i = 0; i < 10; i++) {
            System.out.println("Thread2 "+integer++);
        }
    }
}
```

è€äººå¯»å‘³çš„ç»“æœï¼š
```vim 
1
2
3
4
5
6
7
8
9
10
1
2
3
4
5
6
7
8
9
10
1----------
===========
Thread2 0
Thread2 1
Thread2 2
Thread2 3
Thread2 4
Thread2 5
Thread2 6
Thread2 7
Thread2 8
Thread2 9
1
2
3
1
4
2
3
5
4
6
5
7
6
8
7
9
8
9
10
10
2-----------
Thread2 0
Thread2 1
Thread2 2
Thread2 3
Thread2 4
Thread2 5
Thread2 6
Thread2 7
Thread2 8
Thread2 9
Thread2 0
Thread2 1
Thread2 2
Thread2 3
Thread2 4
Thread2 5
Thread2 6
Thread2 7
Thread2 8
Thread2 9
Thread2 10
Thread2 11
Thread2 12
Thread2 13
Thread2 14
Thread2 15
Thread2 16
Thread2 17
Thread2 18
Thread2 19
```

```vim
1----------
1
2
3
4
5
6
7
8
9
10
1
2
3
4
5
6
7
8
9
10
Thread2 0
Thread2 1
Thread2 2
Thread2 3
Thread2 4
Thread2 5
Thread2 6
Thread2 7
Thread2 8
Thread2 9
===========
Thread2 0
Thread2 1
Thread2 2
Thread2 3
Thread2 4
Thread2 5
Thread2 6
Thread2 7
Thread2 8
Thread2 9
2-----------
1
2
3
4
5
6
7
8
9
10
1
2
3
4
5
6
7
8
9
10
Thread2 0
Thread2 1
Thread2 2
Thread2 3
Thread2 4
Thread2 5
Thread2 6
Thread2 7
Thread2 8
Thread2 9
Thread2 10
Thread2 11
Thread2 12
Thread2 13
Thread2 14
Thread2 15
Thread2 16
Thread2 17
Thread2 18
Thread2 19
```

### çº¿ç¨‹åŒæ­¥

    å½“å¤šä¸ªçº¿ç¨‹æ“ä½œåŒä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå°±ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œè¢«å¤šä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œçš„å¯¹è±¡æ•°æ®å¯èƒ½ä¼šå‘ç”Ÿé”™è¯¯ã€‚çº¿ç¨‹åŒæ­¥å¯ä»¥ä¿è¯åœ¨åŒä¸€ä¸ªæ—¶åˆ»è¯¥å¯¹è±¡åªè¢«ä¸€ä¸ªçº¿ç¨‹è®¿é—®ã€‚

#### Synchronized

    å…³é”®å­— synchronized å¯ä»¥ä¿®é¥°æ–¹æ³•æˆ–è€…ä»¥åŒæ­¥å—çš„å½¢å¼æ¥è¿›è¡Œä½¿ç”¨ï¼Œå®ƒç¡®ä¿å¤šä¸ªçº¿ç¨‹åœ¨åŒä¸€ä¸ªæ—¶åˆ»ï¼Œåªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹å¤„äºæ–¹æ³•æˆ–è€…åŒæ­¥å—ä¸­ï¼Œä¿è¯äº†çº¿ç¨‹å¯¹å˜é‡è®¿é—®çš„å¯è§æ€§å’Œæ’ä»–æ€§ã€‚å®ƒæœ‰ä¸‰ç§ä½¿ç”¨æ–¹æ³•ï¼š

> * å¯¹æ™®é€šæ–¹å¼ä½¿ç”¨ï¼Œå°†ä¼šé”ä½å½“å‰å®ä¾‹å¯¹è±¡  
> * å¯¹é™æ€æ–¹æ³•ä½¿ç”¨ï¼Œå°†ä¼šé”ä½å½“å‰ç±»çš„ Class å¯¹è±¡  
> * å¯¹ä»£ç å—ä½¿ç”¨ï¼Œå°†ä¼šé”ä½ä»£ç å—ä¸­çš„å¯¹è±¡

ä¸‰ç§åŠ é”æ–¹å¼ï¼š
```java
public class SynchronizedDemo {
    private static Object lock = new Object();

    public static void main(String[] args) {
        //åŒæ­¥ä»£ç å— é”ä½lock
        synchronized (lock) {
            //doSomething
        }
    }

    //é™æ€åŒæ­¥æ–¹æ³•  é”ä½å½“å‰ç±»classå¯¹è±¡
    public synchronized static void staticMethod(){

    }
    //æ™®é€šåŒæ­¥æ–¹æ³•  é”ä½å½“å‰å®ä¾‹å¯¹è±¡
    public synchronized void memberMethod() {

    }
}
```

    java.util.concurrent åŒ…,æä¾›äº†å¤šç§åœ¨å¹¶å‘ç¼–ç¨‹ä¸­çš„é€‚ç”¨å·¥å…·ç±»ã€‚åŒ…æ‹¬åŸå­æ“ä½œç±»ï¼Œçº¿ç¨‹æ± ï¼Œé˜»å¡é˜Ÿåˆ—ï¼ŒFork/Join æ¡†æ¶ï¼Œå¹¶å‘é›†åˆï¼Œçº¿ç¨‹åŒæ­¥é”ç­‰ã€‚
    JUC ä¸­çš„ ReentrantLock æ˜¯å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­å¸¸ç”¨çš„åŠ é”æ–¹å¼ï¼ŒReentrantLock åŠ é”æ¯” synchronized åŠ é”æ›´åŠ çš„çµæ´»ï¼Œæä¾›äº†æ›´åŠ ä¸°å¯Œçš„åŠŸèƒ½ã€‚

```java
import java.util.concurrent.locks.Condition;
import java.util.concurrent.locks.ReentrantLock;

/**
 * @author å®éªŒæ¥¼11
 * @Project Name: å®éªŒæ¥¼
 * @Package Name: PACKAGE_NAME
 * Created by MacBook Air on 2020/02/16.
 * Copyright Â© 2020 LiYang. All rights reserved.
 */
public class ThreadTestPro {
    private static ReentrantLock lock = new ReentrantLock();
    private static int count = 0;
    private static Condition condition = lock.newCondition();

    public static void main(String[] args) {
        Thread A = new Thread(() -> {
            //åŠ é” ä¸€æ¬¡åªæœ‰ä¸€ä¸ªçº¿ç¨‹è¾“å‡º
            lock.lock();
            try {
                while (true) {
                    //å› ä¸ºåªå¾ªç¯3æ¬¡ æ‰€ä»¥åˆ°9çš„æ—¶å€™å°±ç»“æŸå¾ªç¯
                    if (count == 9) {
                        break;
                    }
                    //å½“ä½™æ•°ä¸º0 å°±è¾“å‡ºA
                    if (count % 3 == 0) {
                        count++;
                        System.out.println("A");
                        //å”¤é†’å…¶ä»–ç­‰å¾…çº¿ç¨‹
                        condition.signalAll();
                    } else {
                        try {
                            //ç­‰å¾…
                            condition.await();
                        } catch (InterruptedException e) {
                            e.printStackTrace();
                        }
                    }
                }
            } finally {
                lock.unlock();
            }
        });
        Thread B = new Thread(() -> {
            lock.lock();
            try {
                while (true) {
                    if (count == 9) {
                        break;
                    }
                    if (count % 3 == 1) {
                        count++;
                        System.out.println("B");
                        condition.signalAll();
                    } else {
                        try {
                            condition.await();
                        } catch (InterruptedException e) {
                            e.printStackTrace();
                        }
                    }
                }
            } finally {
                lock.unlock();
            }
        });
        Thread C = new Thread(() -> {
            lock.lock();
            try {
                while (true) {
                    if (count == 9) {
                        break;
                    }
                    if (count % 3 == 2) {
                        count++;
                        System.out.println("C");
                        condition.signalAll();
                    } else {
                        try {
                            condition.await();
                        } catch (InterruptedException e) {
                            e.printStackTrace();
                        }
                    }
                }
            } finally {
                lock.unlock();
            }
        });

        A.start();
        B.start();
        C.start();

    }
}
```

```vim
A
B
C
A
B
C
A
B
C
```


